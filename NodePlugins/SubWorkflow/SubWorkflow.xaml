<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:gif="http://wpfanimatedgif.codeplex.com"
    xmlns:local="clr-namespace:SubWorkflow"
    xmlns:nodify="https://miroiu.github.io/nodify"
    xmlns:shared="clr-namespace:Nodify;assembly=Nodify.Shared">

    <shared:ItemToListConverter x:Key="ItemToListConverter" />

    <DataTemplate DataType="{x:Type local:SubWorkflowViewModel}">
        <nodify:Node
            Footer="{Binding}"
            Header="{Binding}"
            Input="{Binding Input}"
            Output="{Binding Output, Converter={StaticResource ItemToListConverter}}"
            ToolTip="Double click to expand">
            <nodify:Node.HeaderTemplate>
                <StaticResource ResourceKey="SharedHeaderTemplate" />
            </nodify:Node.HeaderTemplate>
            <nodify:Node.FooterTemplate>
                <StaticResource ResourceKey="SharedFooterTemplate" />
            </nodify:Node.FooterTemplate>

            <nodify:Node.InputBindings>
                <MouseBinding
                    Command="{Binding DataContext.OpenCalculatorCommand, RelativeSource={RelativeSource AncestorType=UserControl}}"
                    CommandParameter="{Binding InnerCalculator}"
                    Gesture="LeftDoubleClick" />
            </nodify:Node.InputBindings>


        </nodify:Node>
    </DataTemplate>
</ResourceDictionary>